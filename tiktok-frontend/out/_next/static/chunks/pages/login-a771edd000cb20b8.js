(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2070:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(382)}])},382:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return y}});var n=t(5893),s=t(7294),o=t(9828);let r=(0,t(3977).ZF)({apiKey:"AIzaSyDUnwfRi1PZ4OMt14OLacLRJo7wWuLnI5U",authDomain:"tiktik-hackathon.firebaseapp.com",projectId:"tiktik-hackathon",storageBucket:"tiktik-hackathon.appspot.com",messagingSenderId:"638097584204",appId:"1:638097584204:web:cbf9194841f693565cc4e9"}),l=(0,o.ad)(r);var i=t(1163),d=t(4731),u=t(1955),c=t(4440),p=t(2516),x=t(4246),g=t(1006),h=t(8163),f=t(9349),b=t(946),w=t(9619),y=function(){let e=(0,i.useRouter)(),[a,t]=(0,s.useState)(!1),[r,y]=(0,s.useState)(""),[j,m]=(0,s.useState)(""),[v,C]=(0,s.useState)(""),[Z,k]=(0,s.useState)(""),[S,I]=(0,s.useState)(""),[P,R]=(0,s.useState)(""),[U,_]=(0,s.useState)(""),[O,T]=(0,s.useState)(!1),E=async()=>{let a=(0,o.IO)((0,o.JU)(l,"users",r)),t=await (0,o.QT)(a);if(t.exists()){let{password:a}=t.data();if(j===a){console.log("Logged in");let a={username:t.data().username,fname:t.data().fname,lname:t.data().lname};u.Z.set("user",JSON.stringify(a),{expires:1}),console.log(u.Z.get("user")),e.push("/")}else console.log("Incorrect password"),C("Incorrect password. Please try again")}else console.log("User does not exist"),C("User does not exist. Please sign up")},N=async()=>{let e=(0,o.IO)((0,o.JU)(l,"users",r));(await (0,o.QT)(e)).exists()?(L(),console.log("User already exists"),C("User already exists. Please login")):(await (0,o.pl)((0,o.JU)(l,"users",r),{password:j,username:S,fname:P,lname:U}),console.log("User created"),C("User created! Please login"),L())},D=async e=>{k(e.target.value),J(j,e.target.value,r,S,P,U)},J=(e,a,t,n,s,o)=>{T(e===a&&""!==e&&""!==a&&""!==t&&""!==n&&""!==s&&""!==o)},L=()=>{t(!1)},z=e=>{y(e.target.value),J(j,Z,e.target.value,S,P,U)},A=e=>{m(e.target.value),J(e.target.value,Z,r,S,P,U)},B=async e=>{e.preventDefault(),console.log("Email:",r),console.log("Password:",j),await E(),y(""),m("")};return(0,n.jsxs)(c.Z,{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",children:[(0,n.jsx)(p.Z,{open:a,onClose:L,children:(0,n.jsxs)(c.Z,{position:"absolute",top:"50%",left:"50%",textTransform:"translate(-50%, -50%)",width:400,height:700,bgcolor:"white",border:"2px solid gray",boxShadow:24,p:4,display:"flex",flexDirection:"column",gap:3,justifyContent:"space-around",sx:{transform:"translate(-50%, -50%)",borderRadius:"15px"},children:[(0,n.jsx)(x.Z,{variant:"h4",children:"Sign Up Form"}),(0,n.jsx)(g.Z,{type:"text",label:"username",value:S,onChange:e=>{I(e.target.value),J(j,Z,r,e.target.value,P,U)},InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(g.Z,{type:"text",label:"first name",value:P,onChange:e=>{R(e.target.value),J(j,Z,r,S,e.target.value,U)},InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(g.Z,{type:"text",label:"last name",value:U,onChange:e=>{_(e.target.value),J(j,Z,r,S,P,e.target.value)},InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(g.Z,{type:"email",label:"email address",value:r,onChange:z,InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(g.Z,{type:"password",label:"password",value:j,onChange:A,InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(g.Z,{type:"password",label:"re-enter password",value:Z,onChange:D,InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(h.Z,{disabled:!O,variant:"contained",onClick:N,sx:{width:"100%",backgroundColor:"primary.main",outline:"none",boxShadow:"none",justifyContent:"center"},children:"Sign Up"})]})}),(0,n.jsxs)(f.Z,{direction:"column",width:"400px",height:"600px",border:"1px solid gray",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px;",borderRadius:"15px",display:"flex",p:1,spacing:2,children:[(0,n.jsxs)(b.Z,{size:"small","aria-label":"add",sx:{width:"fit-content",backgroundColor:"background.default",outline:"none",boxShadow:"none",justifyContent:"flex-start"},variant:"extended",onClick:()=>{e.push("/")},children:[(0,n.jsx)(d.Z,{})," \xa0 Back \xa0"]}),(0,n.jsxs)(f.Z,{spacing:2,alignContent:"center",justifyContent:"center",display:"flex",width:"100%",p:2,children:[(0,n.jsx)(g.Z,{type:"email",label:"email",value:r,onChange:z,InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(g.Z,{type:"password",label:"password",value:j,onChange:A,InputProps:{sx:{borderRadius:"20px"}}}),(0,n.jsx)(b.Z,{size:"small","aria-label":"add",sx:{width:"100%",backgroundColor:"background.default",outline:"none",boxShadow:"none",justifyContent:"center"},variant:"extended",onClick:B,children:(0,n.jsx)(x.Z,{variant:"p",color:"#2196f3",textTransform:"lowercase",children:"Login"})})]}),(0,n.jsx)(w.Z,{children:(0,n.jsx)(x.Z,{color:"lightgrey",children:" OR "})}),(0,n.jsxs)(f.Z,{spacing:2,alignContent:"center",justifyContent:"space-between",flexDirection:"column",height:"100%",display:"flex",p:2,children:[(0,n.jsx)(b.Z,{size:"small","aria-label":"add",sx:{width:"100%",backgroundColor:"background.default",outline:"none",boxShadow:"none",justifyContent:"center"},variant:"extended",onClick:()=>{t(!0)},children:(0,n.jsx)(x.Z,{variant:"p",color:"#2196f3",textTransform:"lowercase",children:"Sign Up"})}),(0,n.jsxs)(x.Z,{width:"100%",color:"red",p:3,textAlign:"center",children:[" ",v," "]})]})]})]})}}},function(e){e.O(0,[16,598,888,774,179],function(){return e(e.s=2070)}),_N_E=e.O()}]);